// gtlc-dynamic.schml should return #(struct:Unit) generated by the schml
// compiler.

// This is the boiler plate
#include <stdio.h>
#include <stdlib.h>
#include <sys/time.h>

void *alloc_ptr;
long free_ptr;
long limit;
unsigned long allocd_mem;

long alloc(int n) {
  long result = free_ptr;
  long newFree = result + n;
  allocd_mem += n;
  if (newFree >= limit) {
    printf("Requesting more memory\n");
    free_ptr = (long)(posix_memalign(&alloc_ptr, 8, 409600000), alloc_ptr);
    limit = free_ptr + 409600000;
    return alloc(n);
  }
  free_ptr = newFree;
  return result;
}
// This is the global state for the timer
struct timeval timer_start_time;
struct timeval timer_stop_time;
struct timeval timer_result_time;
int timer_started = 1;
int timer_stopped = 1;

void timer_report() {

  // some very minor error checking
  if (timer_started) {
    printf("error starting timer");
    exit(-1);
  }
  if (timer_stopped) {
    printf("error stopping timer");
    exit(-1);
  }

  double t1 = timer_start_time.tv_sec + (timer_start_time.tv_usec / 1000000.0);
  double t2 = timer_stop_time.tv_sec + (timer_stop_time.tv_usec / 1000000.0);
  printf("time (sec): %lf\n", t2 - t1);
}

// These are the variable declarations
long u52_typeid;
long u51_typeid;

// These are the declarations
long u0_f(long u60_f_clos, long u1_n);
long u4_coerce_fn_1(long u5_unknown_closure, long u6_new_fn_coercion);
long u6_make_coercion(long u11_type1, long u12_type2, long u13_label);
long u5_compose_coercion(long u9_coercion1, long u10_coercion2);
long u4_interp_cast(long u7_value, long u8_coercion);
long u53_apply_hybrid_1(long u54_hybrid_closure, long u55_arg);
long u70_compose_fn_coercion(long u71_fn_coercion1, long u72_fn_coercion2,
                             long u75_index, long u76_fn_coercion_arity,
                             long u83_is_identity);
long u86_make_fn_coercion(long u87_fn_type1, long u88_fn_type2, long u89_label,
                          long u90_index, long u91_fn_type_arity);

// Obviously this is the main function
int main() {
  long u259_unused_return;
  long u141_stop;
  long u140_start;
  long u139_tmp_value;
  long u138_tmp_value;
  long u137_tmp_value;
  long u136_tmp_value;
  long u127_result;
  long u61_f_clos;
  long u2_d;
  long u119_second;
  long u118_inject_coercion;
  long u120_first;
  long u121_sequence_coecion;
  long u3_i;
  long u62_tmp_closure;
  long u124_second;
  long u125_first;
  long u122_label;
  long u123_project_coercion;
  long u126_sequence_coecion;
  long u128_argument;
  long u129_return;
  long u130_arity;
  long u131_Fun_Type;
  long u132_argument;
  long u133_return;
  long u134_arity;
  long u135_Fun_Type;
  free_ptr = (long)(posix_memalign(&alloc_ptr, 8, 409600000), alloc_ptr);
  limit = free_ptr + 409600000;
  allocd_mem = 0;

  u130_arity = 1;
  u129_return = 7;
  u128_argument = 15;
  u131_Fun_Type = alloc(8 * 3);
  ((long *)u131_Fun_Type)[0] = u130_arity;
  ((long *)u131_Fun_Type)[1] = u129_return;
  ((long *)u131_Fun_Type)[2] = u128_argument;
  u52_typeid = u131_Fun_Type;
  u134_arity = 1;
  u133_return = 15;
  u132_argument = 15;
  u135_Fun_Type = alloc(8 * 3);
  ((long *)u135_Fun_Type)[0] = u134_arity;
  ((long *)u135_Fun_Type)[1] = u133_return;
  ((long *)u135_Fun_Type)[2] = u132_argument;
  u51_typeid = u135_Fun_Type;
  u61_f_clos = alloc(8 * 2);
  ((long *)u61_f_clos)[0] = ((long)u0_f);
  ((long *)u61_f_clos)[1] = ((long)u4_coerce_fn_1);
  u120_first = 3;
  u118_inject_coercion = alloc(8 * 1);
  ((long *)u118_inject_coercion)[0] = u51_typeid;
  u119_second = (u118_inject_coercion | 1);
  u121_sequence_coecion = alloc(8 * 2);
  ((long *)u121_sequence_coecion)[0] = u120_first;
  ((long *)u121_sequence_coecion)[1] = u119_second;
  u136_tmp_value = (u121_sequence_coecion | 2);
  u2_d = (u4_interp_cast(u61_f_clos, u136_tmp_value));
  timer_started = gettimeofday(&timer_start_time, NULL);
  u140_start = 0;
  u141_stop = 1000000;
  for (u3_i = u140_start; u3_i < u141_stop; u3_i += 1) {
    u122_label = "Implicit cast in Application at gtlc-dynamic.schml::116 on "
                 "expression at gtlc-dynamic.schml::117";
    u123_project_coercion = alloc(8 * 2);
    ((long *)u123_project_coercion)[0] = u52_typeid;
    ((long *)u123_project_coercion)[1] = u122_label;
    u125_first = u123_project_coercion;
    u124_second = 3;
    u126_sequence_coecion = alloc(8 * 2);
    ((long *)u126_sequence_coecion)[0] = u125_first;
    ((long *)u126_sequence_coecion)[1] = u124_second;
    u137_tmp_value = (u126_sequence_coecion | 2);
    u62_tmp_closure = (u4_interp_cast(u2_d, u137_tmp_value));
    u138_tmp_value = (-8 & u62_tmp_closure);
    u139_tmp_value = ((long *)u138_tmp_value)[0];
    u259_unused_return =
        (((long (*)(long, long))u139_tmp_value)(u62_tmp_closure, 0));
    __asm__("");
  };
  timer_stopped = gettimeofday(&timer_stop_time, NULL);
  timer_report();
  u127_result = 0;
  printf("Unit : ()\n");
  return 0;
}

// Here are all the definitions for Subroutines
long u0_f(long u60_f_clos, long u1_n) { return u1_n; }

long u4_coerce_fn_1(long u5_unknown_closure, long u6_new_fn_coercion) {
  long u260_pred_res;
  long u156_tmp_value;
  long u155_tmp_value;
  long u154_tmp_value;
  long u153_tmp_value;
  long u152_tmp_value;
  long u151_tmp_value;
  long u150_tmp_value;
  long u149_tmp_value;
  long u148_tmp_value;
  long u147_tmp_value;
  long u146_tmp_value;
  long u145_tmp_value;
  long u144_tmp_value;
  long u143_tmp_value;
  long u142_tmp_value;
  long u10_raw_closure;
  long u9_old_fn_coercion;
  long u8_ret_coercion;
  long u7_arg_coercion;
  long u113_coercion;
  long u111_arity;
  long u112_fn_coercion;
  long u114_apply_hybrid_proxy;
  long u115_hybrid_proxy;
  long u116_apply_hybrid_proxy;
  long u117_hybrid_proxy;
  u142_tmp_value = (u5_unknown_closure & 7);
  if (u142_tmp_value == 1) {
    u143_tmp_value = (u5_unknown_closure ^ 1);
    u9_old_fn_coercion = ((long *)u143_tmp_value)[2];
    u144_tmp_value = (u5_unknown_closure ^ 1);
    u10_raw_closure = ((long *)u144_tmp_value)[1];
    u145_tmp_value = (u6_new_fn_coercion ^ 4);
    u146_tmp_value = (2 + 0);
    u147_tmp_value = ((long *)u145_tmp_value)[u146_tmp_value];
    u148_tmp_value = (u9_old_fn_coercion ^ 4);
    u149_tmp_value = (2 + 0);
    u150_tmp_value = ((long *)u148_tmp_value)[u149_tmp_value];
    u7_arg_coercion = (u5_compose_coercion(u147_tmp_value, u150_tmp_value));
    u151_tmp_value = (u9_old_fn_coercion ^ 4);
    u152_tmp_value = ((long *)u151_tmp_value)[1];
    u153_tmp_value = (u6_new_fn_coercion ^ 4);
    u154_tmp_value = ((long *)u153_tmp_value)[1];
    u8_ret_coercion = (u5_compose_coercion(u152_tmp_value, u154_tmp_value));
    u155_tmp_value = (u8_ret_coercion & 7);
    if (u155_tmp_value == 3) {
      u156_tmp_value = (u7_arg_coercion & 7);
      u260_pred_res = ((u156_tmp_value == 3) ? 1 : 0);
    } else {
      u260_pred_res = ((1 == 0) ? 1 : 0);
    };
    if (u260_pred_res == 1) {
      return u10_raw_closure;
    } else {
      u114_apply_hybrid_proxy = ((long)u53_apply_hybrid_1);
      u111_arity = 1;
      u112_fn_coercion = alloc(8 * 3);
      ((long *)u112_fn_coercion)[0] = u111_arity;
      ((long *)u112_fn_coercion)[1] = u8_ret_coercion;
      ((long *)u112_fn_coercion)[2] = u7_arg_coercion;
      u113_coercion = (u112_fn_coercion | 4);
      u115_hybrid_proxy = alloc(8 * 3);
      ((long *)u115_hybrid_proxy)[0] = u114_apply_hybrid_proxy;
      ((long *)u115_hybrid_proxy)[1] = u10_raw_closure;
      ((long *)u115_hybrid_proxy)[2] = u113_coercion;
      return (u115_hybrid_proxy | 1);
    }
  } else {
    u116_apply_hybrid_proxy = ((long)u53_apply_hybrid_1);
    u117_hybrid_proxy = alloc(8 * 3);
    ((long *)u117_hybrid_proxy)[0] = u116_apply_hybrid_proxy;
    ((long *)u117_hybrid_proxy)[1] = u5_unknown_closure;
    ((long *)u117_hybrid_proxy)[2] = u6_new_fn_coercion;
    return (u117_hybrid_proxy | 1);
  }
}

long u6_make_coercion(long u11_type1, long u12_type2, long u13_label) {
  long u263_pred_res;
  long u262_pred_res;
  long u261_pred_res;
  long u170_tmp_value;
  long u169_tmp_value;
  long u168_tmp_value;
  long u167_tmp_value;
  long u166_tmp_value;
  long u165_tmp_value;
  long u164_tmp_value;
  long u163_tmp_value;
  long u162_tmp_value;
  long u161_tmp_value;
  long u160_tmp_value;
  long u159_tmp_value;
  long u158_tmp_value;
  long u157_tmp_value;
  long u43_gv1_of;
  long u44_gv2_of;
  long u45_read_crcn;
  long u46_write_crcn;
  long u100_ref_coercion;
  long u47_gr1_of;
  long u48_gr2_of;
  long u49_read_crcn;
  long u50_write_crcn;
  long u101_ref_coercion;
  long u103_second;
  long u104_first;
  long u102_project_coercion;
  long u105_sequence_coercion;
  long u107_second;
  long u106_inject_coercion;
  long u108_first;
  long u109_sequence_coercion;
  long u110_failed_coercion;
  if (u11_type1 == u12_type2) {
    return 3;
  } else {
    u157_tmp_value = (u11_type1 & 7);
    if (u157_tmp_value == 0) {
      u158_tmp_value = (u12_type2 & 7);
      u261_pred_res = ((u158_tmp_value == 0) ? 1 : 0);
    } else {
      u261_pred_res = ((1 == 0) ? 1 : 0);
    };
    if (u261_pred_res == 1) {
      u159_tmp_value = ((long *)u11_type1)[0];
      u160_tmp_value = ((long *)u12_type2)[0];
      if (u159_tmp_value == u160_tmp_value) {
        u161_tmp_value = (u11_type1 ^ 0);
        u162_tmp_value = ((long *)u161_tmp_value)[0];
        return (u86_make_fn_coercion(u11_type1, u12_type2, u13_label, 0,
                                     u162_tmp_value));
      } else {
        puts(((const char *)u13_label));
        exit(-1);
        return 0;
      }
    } else {
      u163_tmp_value = (u11_type1 & 7);
      if (u163_tmp_value == 2) {
        u164_tmp_value = (u12_type2 & 7);
        u262_pred_res = ((u164_tmp_value == 2) ? 1 : 0);
      } else {
        u262_pred_res = ((1 == 0) ? 1 : 0);
      };
      if (u262_pred_res == 1) {
        u165_tmp_value = (u11_type1 ^ 2);
        u43_gv1_of = ((long *)u165_tmp_value)[0];
        u166_tmp_value = (u12_type2 ^ 2);
        u44_gv2_of = ((long *)u166_tmp_value)[0];
        u45_read_crcn = (u6_make_coercion(u43_gv1_of, u44_gv2_of, u13_label));
        u46_write_crcn = (u6_make_coercion(u44_gv2_of, u43_gv1_of, u13_label));
        u100_ref_coercion = alloc(8 * 2);
        ((long *)u100_ref_coercion)[0] = u45_read_crcn;
        ((long *)u100_ref_coercion)[1] = u46_write_crcn;
        return (u100_ref_coercion | 5);
      } else {
        u167_tmp_value = (u11_type1 & 7);
        if (u167_tmp_value == 1) {
          u168_tmp_value = (u12_type2 & 7);
          u263_pred_res = ((u168_tmp_value == 1) ? 1 : 0);
        } else {
          u263_pred_res = ((1 == 0) ? 1 : 0);
        };
        if (u263_pred_res == 1) {
          u169_tmp_value = (u11_type1 ^ 1);
          u47_gr1_of = ((long *)u169_tmp_value)[0];
          u170_tmp_value = (u12_type2 ^ 1);
          u48_gr2_of = ((long *)u170_tmp_value)[0];
          u49_read_crcn = (u6_make_coercion(u47_gr1_of, u48_gr2_of, u13_label));
          u50_write_crcn =
              (u6_make_coercion(u48_gr2_of, u47_gr1_of, u13_label));
          u101_ref_coercion = alloc(8 * 2);
          ((long *)u101_ref_coercion)[0] = u49_read_crcn;
          ((long *)u101_ref_coercion)[1] = u50_write_crcn;
          return (u101_ref_coercion | 5);
        } else {
          if (7 == u11_type1) {
            u102_project_coercion = alloc(8 * 2);
            ((long *)u102_project_coercion)[0] = u12_type2;
            ((long *)u102_project_coercion)[1] = u13_label;
            u104_first = u102_project_coercion;
            u103_second = 3;
            u105_sequence_coercion = alloc(8 * 2);
            ((long *)u105_sequence_coercion)[0] = u104_first;
            ((long *)u105_sequence_coercion)[1] = u103_second;
            return (u105_sequence_coercion | 2);
          } else {
            if (7 == u12_type2) {
              u108_first = 3;
              u106_inject_coercion = alloc(8 * 1);
              ((long *)u106_inject_coercion)[0] = u11_type1;
              u107_second = (u106_inject_coercion | 1);
              u109_sequence_coercion = alloc(8 * 2);
              ((long *)u109_sequence_coercion)[0] = u108_first;
              ((long *)u109_sequence_coercion)[1] = u107_second;
              return (u109_sequence_coercion | 2);
            } else {
              u110_failed_coercion = alloc(8 * 1);
              ((long *)u110_failed_coercion)[0] = u13_label;
              return (u110_failed_coercion | 6);
            }
          }
        }
      }
    }
  }
}

long u5_compose_coercion(long u9_coercion1, long u10_coercion2) {
  long u264_pred_res;
  long u200_tmp_value;
  long u199_tmp_value;
  long u198_tmp_value;
  long u197_tmp_value;
  long u196_tmp_value;
  long u195_tmp_value;
  long u194_tmp_value;
  long u193_tmp_value;
  long u192_tmp_value;
  long u191_tmp_value;
  long u190_tmp_value;
  long u189_tmp_value;
  long u188_tmp_value;
  long u187_tmp_value;
  long u186_tmp_value;
  long u185_tmp_value;
  long u184_tmp_value;
  long u183_tmp_value;
  long u182_tmp_value;
  long u181_tmp_value;
  long u180_tmp_value;
  long u179_tmp_value;
  long u178_tmp_value;
  long u177_tmp_value;
  long u176_tmp_value;
  long u175_tmp_value;
  long u174_tmp_value;
  long u173_tmp_value;
  long u172_tmp_value;
  long u171_tmp_value;
  long u24_seq_fst;
  long u25_seq_snd;
  long u26_comp_seq_snd;
  long u68_sequence_coercion;
  long u27_proj;
  long u28_final;
  long u29_t1;
  long u30_t2;
  long u31_lbl;
  long u32_comp_prj_inj;
  long u33_comp_fst_pi;
  long u34_seq_fst;
  long u35_seq_snd;
  long u36_comp_c1_final;
  long u69_sequence_coercion;
  long u37_ref1_read;
  long u38_ref1_write;
  long u39_ref2_read;
  long u40_ref2_write;
  long u41_read;
  long u42_write;
  long u85_ref_coercion;
  u171_tmp_value = (u9_coercion1 & 7);
  if (u171_tmp_value == 3) {
    return u10_coercion2;
  } else {
    u172_tmp_value = (u10_coercion2 & 7);
    if (u172_tmp_value == 3) {
      return u9_coercion1;
    } else {
      u173_tmp_value = (u9_coercion1 & 7);
      if (u173_tmp_value == 2) {
        u174_tmp_value = (u9_coercion1 ^ 2);
        u24_seq_fst = ((long *)u174_tmp_value)[0];
        u175_tmp_value = (u9_coercion1 ^ 2);
        u25_seq_snd = ((long *)u175_tmp_value)[1];
        u176_tmp_value = (u24_seq_fst & 7);
        if (u176_tmp_value == 0) {
          u26_comp_seq_snd = (u5_compose_coercion(u25_seq_snd, u10_coercion2));
          u68_sequence_coercion = alloc(8 * 2);
          ((long *)u68_sequence_coercion)[0] = u24_seq_fst;
          ((long *)u68_sequence_coercion)[1] = u26_comp_seq_snd;
          return (u68_sequence_coercion | 2);
        } else {
          u177_tmp_value = (u10_coercion2 & 7);
          if (u177_tmp_value == 6) {
            return u10_coercion2;
          } else {
            u178_tmp_value = (u10_coercion2 ^ 2);
            u27_proj = ((long *)u178_tmp_value)[0];
            u179_tmp_value = (u10_coercion2 ^ 2);
            u28_final = ((long *)u179_tmp_value)[1];
            u180_tmp_value = (u25_seq_snd ^ 1);
            u29_t1 = ((long *)u180_tmp_value)[0];
            u181_tmp_value = (u27_proj ^ 0);
            u30_t2 = ((long *)u181_tmp_value)[0];
            u182_tmp_value = (u27_proj ^ 0);
            u31_lbl = ((long *)u182_tmp_value)[1];
            u32_comp_prj_inj = (u6_make_coercion(u29_t1, u30_t2, u31_lbl));
            u33_comp_fst_pi =
                (u5_compose_coercion(u24_seq_fst, u32_comp_prj_inj));
            return (u5_compose_coercion(u33_comp_fst_pi, u28_final));
          }
        }
      } else {
        u183_tmp_value = (u10_coercion2 & 7);
        if (u183_tmp_value == 2) {
          u184_tmp_value = (u9_coercion1 & 7);
          if (u184_tmp_value == 6) {
            return u10_coercion2;
          } else {
            u185_tmp_value = (u10_coercion2 ^ 2);
            u34_seq_fst = ((long *)u185_tmp_value)[0];
            u186_tmp_value = (u10_coercion2 ^ 2);
            u35_seq_snd = ((long *)u186_tmp_value)[1];
            u36_comp_c1_final =
                (u5_compose_coercion(u9_coercion1, u34_seq_fst));
            u69_sequence_coercion = alloc(8 * 2);
            ((long *)u69_sequence_coercion)[0] = u36_comp_c1_final;
            ((long *)u69_sequence_coercion)[1] = u35_seq_snd;
            return (u69_sequence_coercion | 2);
          }
        } else {
          u187_tmp_value = (u10_coercion2 & 7);
          if (u187_tmp_value == 6) {
            u188_tmp_value = (u9_coercion1 & 7);
            if (u188_tmp_value == 6) {
              return u9_coercion1;
            } else {
              return u10_coercion2;
            }
          } else {
            u189_tmp_value = (u9_coercion1 & 7);
            if (u189_tmp_value == 4) {
              u190_tmp_value = (u9_coercion1 ^ 4);
              u191_tmp_value = ((long *)u190_tmp_value)[0];
              return (u70_compose_fn_coercion(u9_coercion1, u10_coercion2, 0,
                                              u191_tmp_value, 1));
            } else {
              u192_tmp_value = (u9_coercion1 & 7);
              if (u192_tmp_value == 5) {
                u193_tmp_value = (u9_coercion1 ^ 5);
                u37_ref1_read = ((long *)u193_tmp_value)[0];
                u194_tmp_value = (u9_coercion1 ^ 5);
                u38_ref1_write = ((long *)u194_tmp_value)[1];
                u195_tmp_value = (u10_coercion2 ^ 5);
                u39_ref2_read = ((long *)u195_tmp_value)[0];
                u196_tmp_value = (u10_coercion2 ^ 5);
                u40_ref2_write = ((long *)u196_tmp_value)[1];
                u41_read = (u5_compose_coercion(u37_ref1_read, u39_ref2_read));
                u42_write =
                    (u5_compose_coercion(u40_ref2_write, u38_ref1_write));
                u197_tmp_value = (u41_read & 7);
                if (u197_tmp_value == 3) {
                  u198_tmp_value = (u42_write & 7);
                  u264_pred_res = ((u198_tmp_value == 3) ? 1 : 0);
                } else {
                  u264_pred_res = ((1 == 0) ? 1 : 0);
                };
                if (u264_pred_res == 1) {
                  return 3;
                } else {
                  u85_ref_coercion = alloc(8 * 2);
                  ((long *)u85_ref_coercion)[0] = u41_read;
                  ((long *)u85_ref_coercion)[1] = u42_write;
                  return (u85_ref_coercion | 5);
                }
              } else {
                u199_tmp_value = (u9_coercion1 ^ 6);
                u200_tmp_value = ((long *)u199_tmp_value)[0];
                puts(((const char *)u200_tmp_value));
                exit(-1);
                return 0;
              }
            }
          }
        }
      }
    }
  }
}

long u4_interp_cast(long u7_value, long u8_coercion) {
  long u224_tmp_value;
  long u223_tmp_value;
  long u222_tmp_value;
  long u221_tmp_value;
  long u220_tmp_value;
  long u219_tmp_value;
  long u218_tmp_value;
  long u217_tmp_value;
  long u216_tmp_value;
  long u215_tmp_value;
  long u214_tmp_value;
  long u213_tmp_value;
  long u212_tmp_value;
  long u211_tmp_value;
  long u210_tmp_value;
  long u209_tmp_value;
  long u208_tmp_value;
  long u207_tmp_value;
  long u206_tmp_value;
  long u205_tmp_value;
  long u204_tmp_value;
  long u203_tmp_value;
  long u202_tmp_value;
  long u201_tmp_value;
  long u14_seq_fst;
  long u15_seq_snd;
  long u16_v_fst_cast;
  long u17_prj_type;
  long u18_prj_label;
  long u19_dyn_value;
  long u53_dyn_value_tmp;
  long u54_dyn_value_tag;
  long u20_dyn_type;
  long u55_tmp;
  long u56_tag;
  long u21_projected_type;
  long u58_type;
  long u57_value;
  long u59_tag;
  long u60_imm;
  long u61_dynamic_boxed;
  long u22_old_crcn;
  long u23_composed_crcn;
  long u64_coercion;
  long u63_guarded_ref;
  long u62_guarded_proxy;
  long u67_coercion;
  long u66_guarded_ref;
  long u65_guarded_proxy;
  u201_tmp_value = (u8_coercion & 7);
  if (u201_tmp_value == 3) {
    return u7_value;
  } else {
    u202_tmp_value = (u8_coercion & 7);
    if (u202_tmp_value == 2) {
      u203_tmp_value = (u8_coercion ^ 2);
      u14_seq_fst = ((long *)u203_tmp_value)[0];
      u204_tmp_value = (u8_coercion ^ 2);
      u15_seq_snd = ((long *)u204_tmp_value)[1];
      u16_v_fst_cast = (u4_interp_cast(u7_value, u14_seq_fst));
      return (u4_interp_cast(u16_v_fst_cast, u15_seq_snd));
    } else {
      u205_tmp_value = (u8_coercion & 7);
      if (u205_tmp_value == 0) {
        u206_tmp_value = (u8_coercion ^ 0);
        u17_prj_type = ((long *)u206_tmp_value)[0];
        u207_tmp_value = (u8_coercion ^ 0);
        u18_prj_label = ((long *)u207_tmp_value)[1];
        u53_dyn_value_tmp = u7_value;
        u54_dyn_value_tag = (u53_dyn_value_tmp & 7);
        if (u54_dyn_value_tag == 0) {
          u19_dyn_value = ((long *)u53_dyn_value_tmp)[0];
        } else {
          u19_dyn_value = (u53_dyn_value_tmp >> 3);
        };
        u55_tmp = u7_value;
        u56_tag = (u55_tmp & 7);
        if (u56_tag == 0) {
          u20_dyn_type = ((long *)u55_tmp)[1];
        } else {
          if (u56_tag == 1) {
            u20_dyn_type = 15;
          } else {
            if (u56_tag == 7) {
              u20_dyn_type = 23;
            } else {
              u20_dyn_type = 31;
            };
          };
        };
        u21_projected_type =
            (u6_make_coercion(u20_dyn_type, u17_prj_type, u18_prj_label));
        return (u4_interp_cast(u19_dyn_value, u21_projected_type));
      } else {
        u208_tmp_value = (u8_coercion & 7);
        if (u208_tmp_value == 1) {
          u57_value = u7_value;
          u209_tmp_value = (u8_coercion ^ 1);
          u58_type = ((long *)u209_tmp_value)[0];
          u59_tag = (u58_type & 7);
          if (u59_tag == 7) {
            u60_imm = (u57_value << 3);
            if (u58_type == 15) {
              return (u60_imm | 1);
            } else {
              if (u58_type == 23) {
                return (u60_imm | 7);
              } else {
                return (u60_imm | 2);
              }
            }
          } else {
            u61_dynamic_boxed = alloc(8 * 2);
            ((long *)u61_dynamic_boxed)[0] = u57_value;
            ((long *)u61_dynamic_boxed)[1] = u58_type;
            return u61_dynamic_boxed;
          }
        } else {
          u210_tmp_value = (u8_coercion & 7);
          if (u210_tmp_value == 4) {
            u211_tmp_value = (u7_value & 7);
            if (u211_tmp_value == 1) {
              u212_tmp_value = (u7_value ^ 1);
              u213_tmp_value = ((long *)u212_tmp_value)[1];
              u214_tmp_value = (-8 & u213_tmp_value);
              u215_tmp_value = ((long *)u214_tmp_value)[1];
              return (((long (*)(long, long))u215_tmp_value)(u7_value,
                                                             u8_coercion));
            } else {
              u216_tmp_value = (-8 & u7_value);
              u217_tmp_value = ((long *)u216_tmp_value)[1];
              return (((long (*)(long, long))u217_tmp_value)(u7_value,
                                                             u8_coercion));
            }
          } else {
            u218_tmp_value = (u8_coercion & 7);
            if (u218_tmp_value == 5) {
              u219_tmp_value = (u7_value & 7);
              if (u219_tmp_value == 1) {
                u220_tmp_value = (u7_value ^ 1);
                u22_old_crcn = ((long *)u220_tmp_value)[1];
                u23_composed_crcn =
                    (u5_compose_coercion(u22_old_crcn, u8_coercion));
                u221_tmp_value = (u23_composed_crcn & 7);
                if (u221_tmp_value == 3) {
                  return u7_value;
                } else {
                  u222_tmp_value = (u7_value ^ 1);
                  u63_guarded_ref = ((long *)u222_tmp_value)[0];
                  u64_coercion = u23_composed_crcn;
                  u62_guarded_proxy = alloc(8 * 2);
                  ((long *)u62_guarded_proxy)[0] = u63_guarded_ref;
                  ((long *)u62_guarded_proxy)[1] = u64_coercion;
                  return (u62_guarded_proxy | 1);
                }
              } else {
                u66_guarded_ref = u7_value;
                u67_coercion = u8_coercion;
                u65_guarded_proxy = alloc(8 * 2);
                ((long *)u65_guarded_proxy)[0] = u66_guarded_ref;
                ((long *)u65_guarded_proxy)[1] = u67_coercion;
                return (u65_guarded_proxy | 1);
              }
            } else {
              u223_tmp_value = (u8_coercion ^ 6);
              u224_tmp_value = ((long *)u223_tmp_value)[0];
              puts(((const char *)u224_tmp_value));
              exit(-1);
              return 0;
            }
          }
        }
      }
    }
  }
}

long u53_apply_hybrid_1(long u54_hybrid_closure, long u55_arg) {
  long u235_tmp_value;
  long u234_tmp_value;
  long u233_tmp_value;
  long u232_tmp_value;
  long u231_tmp_value;
  long u230_tmp_value;
  long u229_tmp_value;
  long u228_tmp_value;
  long u227_tmp_value;
  long u226_tmp_value;
  long u225_tmp_value;
  long u59_corcion;
  long u58_closure;
  u225_tmp_value = (u54_hybrid_closure & -8);
  u58_closure = ((long *)u225_tmp_value)[1];
  u226_tmp_value = (u54_hybrid_closure & -8);
  u59_corcion = ((long *)u226_tmp_value)[2];
  u227_tmp_value = (-8 & u58_closure);
  u228_tmp_value = ((long *)u227_tmp_value)[0];
  u229_tmp_value = (u59_corcion ^ 4);
  u230_tmp_value = (2 + 0);
  u231_tmp_value = ((long *)u229_tmp_value)[u230_tmp_value];
  u232_tmp_value = (u4_interp_cast(u55_arg, u231_tmp_value));
  u233_tmp_value =
      (((long (*)(long, long))u228_tmp_value)(u58_closure, u232_tmp_value));
  u234_tmp_value = (u59_corcion ^ 4);
  u235_tmp_value = ((long *)u234_tmp_value)[1];
  return (u4_interp_cast(u233_tmp_value, u235_tmp_value));
}

long u70_compose_fn_coercion(long u71_fn_coercion1, long u72_fn_coercion2,
                             long u75_index, long u76_fn_coercion_arity,
                             long u83_is_identity) {
  long u265_pred_res;
  long u248_tmp_value;
  long u247_tmp_value;
  long u246_tmp_value;
  long u245_tmp_value;
  long u244_tmp_value;
  long u243_tmp_value;
  long u242_tmp_value;
  long u241_tmp_value;
  long u240_tmp_value;
  long u239_tmp_value;
  long u238_tmp_value;
  long u237_tmp_value;
  long u236_tmp_value;
  long u78_fn_coercion2_return;
  long u77_fn_coercion1_return;
  long u81_return_coercion;
  long u73_result_coercion;
  long u80_fn_coercion2_argument;
  long u79_fn_coercion1_argument;
  long u82_argument_coercion;
  long u84_is_still_identity;
  long u74_result_coercion;
  if (u75_index == u76_fn_coercion_arity) {
    u236_tmp_value = (u71_fn_coercion1 ^ 4);
    u77_fn_coercion1_return = ((long *)u236_tmp_value)[1];
    u237_tmp_value = (u72_fn_coercion2 ^ 4);
    u78_fn_coercion2_return = ((long *)u237_tmp_value)[1];
    u81_return_coercion =
        (u5_compose_coercion(u77_fn_coercion1_return, u78_fn_coercion2_return));
    if (1 == u83_is_identity) {
      u238_tmp_value = (u81_return_coercion & 7);
      u265_pred_res = ((u238_tmp_value == 3) ? 1 : 0);
    } else {
      u265_pred_res = ((1 == 0) ? 1 : 0);
    };
    if (u265_pred_res == 1) {
      return 3;
    } else {
      u239_tmp_value = (u76_fn_coercion_arity + 2);
      u73_result_coercion = alloc(8 * u239_tmp_value);
      ((long *)u73_result_coercion)[1] = u81_return_coercion;
      return (u73_result_coercion | 4);
    }
  } else {
    u240_tmp_value = (u71_fn_coercion1 ^ 4);
    u241_tmp_value = (2 + u75_index);
    u79_fn_coercion1_argument = ((long *)u240_tmp_value)[u241_tmp_value];
    u242_tmp_value = (u72_fn_coercion2 ^ 4);
    u243_tmp_value = (2 + u75_index);
    u80_fn_coercion2_argument = ((long *)u242_tmp_value)[u243_tmp_value];
    u82_argument_coercion = (u5_compose_coercion(u80_fn_coercion2_argument,
                                                 u79_fn_coercion1_argument));
    if (1 == u83_is_identity) {
      u244_tmp_value = (u82_argument_coercion & 7);
      if (u244_tmp_value == 3) {
        u84_is_still_identity = 1;
      } else {
        u84_is_still_identity = 0;
      };
    } else {
      u84_is_still_identity = 0;
    };
    u245_tmp_value = (1 + u75_index);
    u74_result_coercion = (u70_compose_fn_coercion(
        u71_fn_coercion1, u72_fn_coercion2, u245_tmp_value,
        u76_fn_coercion_arity, u84_is_still_identity));
    u246_tmp_value = (u74_result_coercion & 7);
    if (u246_tmp_value == 3) {
      return 3;
    } else {
      u247_tmp_value = (u74_result_coercion ^ 4);
      u248_tmp_value = (2 + u75_index);
      ((long *)u247_tmp_value)[u248_tmp_value] = u82_argument_coercion;
      return u74_result_coercion;
    }
  }
}

long u86_make_fn_coercion(long u87_fn_type1, long u88_fn_type2, long u89_label,
                          long u90_index, long u91_fn_type_arity) {
  long u258_tmp_value;
  long u257_tmp_value;
  long u256_tmp_value;
  long u255_tmp_value;
  long u254_tmp_value;
  long u253_tmp_value;
  long u252_tmp_value;
  long u251_tmp_value;
  long u250_tmp_value;
  long u249_tmp_value;
  long u93_fn_type2_return;
  long u92_fn_type1_return;
  long u98_return_coercion;
  long u96_resulting_coercion;
  long u95_fn_type2_argument;
  long u94_fn_type1_argument;
  long u99_argument_coercion;
  long u97_resulting_coercion;
  if (u90_index == u91_fn_type_arity) {
    u249_tmp_value = (u87_fn_type1 ^ 0);
    u92_fn_type1_return = ((long *)u249_tmp_value)[1];
    u250_tmp_value = (u88_fn_type2 ^ 0);
    u93_fn_type2_return = ((long *)u250_tmp_value)[1];
    u98_return_coercion =
        (u6_make_coercion(u92_fn_type1_return, u93_fn_type2_return, u89_label));
    u251_tmp_value = (u91_fn_type_arity + 2);
    u96_resulting_coercion = alloc(8 * u251_tmp_value);
    ((long *)u96_resulting_coercion)[0] = u91_fn_type_arity;
    ((long *)u96_resulting_coercion)[1] = u98_return_coercion;
    return (u96_resulting_coercion | 4);
  } else {
    u252_tmp_value = (u87_fn_type1 ^ 0);
    u253_tmp_value = (2 + u90_index);
    u94_fn_type1_argument = ((long *)u252_tmp_value)[u253_tmp_value];
    u254_tmp_value = (u88_fn_type2 ^ 0);
    u255_tmp_value = (2 + u90_index);
    u95_fn_type2_argument = ((long *)u254_tmp_value)[u255_tmp_value];
    u99_argument_coercion = (u6_make_coercion(
        u95_fn_type2_argument, u94_fn_type1_argument, u89_label));
    u256_tmp_value = (1 + u90_index);
    u97_resulting_coercion =
        (u86_make_fn_coercion(u87_fn_type1, u88_fn_type2, u89_label,
                              u256_tmp_value, u91_fn_type_arity));
    u257_tmp_value = (u97_resulting_coercion ^ 4);
    u258_tmp_value = (2 + u90_index);
    ((long *)u257_tmp_value)[u258_tmp_value] = u99_argument_coercion;
    return u97_resulting_coercion;
  }
}
